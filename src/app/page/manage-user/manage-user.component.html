<h2 class="text-center m-5">แก้ไข/ลบข้อมูลผู้ใช้</h2>
<div class="flex flex-wrap justify-content-between align-items-center gap-3 m-3">
  <p-card
    *ngFor="let user of users"
    class="flex flex-column justify-content-between align-items-start"
  >
    <div class="flex align-items-center gap-2">
      <!-- <img
        [src]="pet.imageUrl || 'assets/img/love.png'"
        alt="pet image"
        width="40"
        height="40"
        style="border-radius: 50%; object-fit: cover"
      /> -->
      <strong>{{ user["firstname"] }}</strong>
      <!-- - {{ pet.petBreeds || "ไม่ระบุพันธุ์" }} -->
    </div>
    <div class="flex gap-2 mt-3">
      <button
        pButton
        icon="pi pi-pencil"
        class="p-button-warning p-button-sm"
        (click)="openChangeUser(user.id)"
      ></button>
      <button
        pButton
        icon="pi pi-trash"
        class="p-button-danger p-button-sm"
        (click)="removeUser(user.id)"
      ></button>
    </div>
  </p-card>
</div>

<div class="card flex justify-content-center">
  <p-dialog
    header="จัดการข้อมูลผู้ใช้"
    [modal]="true"
    [(visible)]="changeUser"
    [style]="{ width: '25rem' }"
  >
    <form [formGroup]="usersForm">
      <div class="flex align-items-center gap-3 mb-5">
        <label for="userId" class="font-semibold w-6rem">ชื่อผู้ใช้</label>
        <div class="card flex justify-content-center">
          <input
            pInputText
            id="username"
            class="flex-auto"
            formControlName="username"
            autocomplete="off"
            required
          />
        </div>
      </div>
      <div class="flex align-items-center gap-3 mb-5">
        <label for="name" class="font-semibold w-6rem">ชื่อจริง</label>
        <input
          pInputText
          id="firstname"
          class="flex-auto"
          formControlName="firstname"
          autocomplete="off"
          required
        />
      </div>

      <div class="flex align-items-center gap-3 mb-5">
        <label class="font-semibold w-6rem">นามสกุล</label>
        <input
          pInputText
          id="lastname"
          class="flex-auto"
          formControlName="lastname"
          autocomplete="off"
          required
        />
      </div>

      <div class="flex align-items-center gap-3 mb-5">
        <label for="breed" class="font-semibold w-6rem">รหัสผ่าน</label>
        <input
          pInputText
          id="password"
          class="flex-auto"
          formControlName="password"
          autocomplete="off"
          required
        />
      </div>

      <div class="flex align-items-center gap-3 mb-5">
        <label for="age" class="font-semibold w-6rem">เบอร์โทรศัพท์</label>
        <input
          pInputText
          id="phone"
          class="flex-auto"
          formControlName="phone"
          autocomplete="off"
          required
        />
      </div>

      <div class="flex justify-content-end gap-2">
        <p-button
          label="Cancel"
          severity="secondary"
          (onClick)="closeChangeUser()"
        />
        <p-button
          label="Save"
          (onClick)="saveEditUser()"
          [disabled]="usersForm.invalid"
        />
      </div>
    </form>
  </p-dialog>
</div>
